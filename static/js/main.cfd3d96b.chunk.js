(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],{13:function(t,e,n){},14:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(6),i=n.n(c),s=n(3),o=n(1),u=n.n(o),l=n(2),m=n(4),p=(n(13),function(){var t=Object(l.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e).then((function(t){return t.json()}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());function d(t,e,n){return t.map((function(t){return Object(s.a)(Object(s.a)({},t),{},{user:e.find((function(e){return e.id===t.userId})),comments:n.filter((function(e){return e.postId===t.id}))})}))}var f=function(){var t=Object(l.a)(u.a.mark((function t(){var e,n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p("https://mate-academy.github.io/react_dynamic-list-of-posts/api/posts.json");case 2:return e=t.sent,t.next=5,p("https://mate-academy.github.io/react_dynamic-list-of-posts/api/users.json");case 5:return n=t.sent,t.next=8,p("https://mate-academy.github.io/react_dynamic-list-of-posts/api/comments.json");case 8:return a=t.sent,t.abrupt("return",d(e,n,a));case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(t){return r.a.createElement("ul",null,t.postsList.map((function(t){return r.a.createElement("li",{key:t.id},r.a.createElement("div",{className:"card border-primary mb-3",style:{maxWidth:"20rem"}},r.a.createElement("div",{className:"card-header"},t.user.username),r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},t.title),r.a.createElement("p",{className:"card-text"},t.body),r.a.createElement("h6",{className:"card-title"},"Comments ".concat(t.comments.length)))))})))},h=function(t){var e=Object(a.useState)(""),n=Object(m.a)(e,2),c=n[0],i=n[1];return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Find post",value:c,onChange:function(e){!function(t){var e=t.target.value;i(e)}(e),t.onFilterList(e)}}))},v=function(t){return r.a.createElement("button",{className:"btn btn-primary btn-lg",onClick:t.onLoad,type:"button"},t.title)},y=function(){var t=Object(a.useState)({initialList:[],filteredList:[]}),e=Object(m.a)(t,2),n=e[0],c=e[1],i=Object(a.useState)("Load"),o=Object(m.a)(i,2),p=o[0],d=o[1],y=function(){var t=Object(l.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.initialList.length){t.next=2;break}return t.abrupt("return");case 2:return d("Loading..."),t.next=5,f();case 5:e=t.sent,c({initialList:e,filteredList:e}),d("Load");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=Boolean(n.initialList.length);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Dynamic list of posts"),E?r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{onFilterList:function(t){var e=t.target.value,a=n.initialList.filter((function(t){return t.title.includes(e)||t.body.includes(e)}));c(Object(s.a)(Object(s.a)({},n),{},{filteredList:a}))}}),r.a.createElement(b,{postsList:n.filteredList})):r.a.createElement(v,{title:p,onLoad:y}))};i.a.render(r.a.createElement(y,null),document.getElementById("root"))},7:function(t,e,n){t.exports=n(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.cfd3d96b.chunk.js.map